<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deutsch Vokabeln - 독일어 단어장</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <div class="header">
            <h1>🇩🇪 Deutsch Vokabeln</h1>
            <p>체계적인 독일어 단어 학습</p>
        </div>

        <!-- 중요도 선택 화면 -->
        <div id="prioritySelection" class="priority-selection">
            <h2>중요도 선택</h2>
            <div class="priority-grid">
                <div class="priority-card" onclick="selectPriority('1')">
                    <div class="priority-icon level-1">🔥</div>
                    <div class="priority-title">중요도 1</div>
                    <div class="priority-subtitle">필수 단어</div>
                    <div class="priority-stats" id="priority1Stats"></div>
                </div>
                <div class="priority-card" onclick="selectPriority('2')">
                    <div class="priority-icon level-2">⭐</div>
                    <div class="priority-title">중요도 2</div>
                    <div class="priority-subtitle">중요 단어</div>
                    <div class="priority-stats" id="priority2Stats"></div>
                </div>
                <div class="priority-card" onclick="selectPriority('3')">
                    <div class="priority-icon level-3">✨</div>
                    <div class="priority-title">중요도 3</div>
                    <div class="priority-subtitle">고급 단어</div>
                    <div class="priority-stats" id="priority3Stats"></div>
                </div>
            </div>
        </div>

        <!-- 레벨 선택 화면 -->
        <div id="levelSelection" style="display: none;">
            <div class="back-header">
                <button class="btn-back" onclick="backToPriority()">← 중요도 선택으로</button>
                <h2 id="levelSelectionTitle">중요도 1 - 레벨 선택</h2>
            </div>
            <div class="level-grid" id="levelGrid"></div>
        </div>

        <!-- 학습 모드 화면 -->
        <div id="learningMode" class="learning-mode">
            <div class="learning-container">
                <div class="learning-header">
                    <div>
                        <div class="learning-title" id="modeTitle"></div>
                        <div class="progress-info">
                            <span id="questionCounter">1 / 50</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    <button class="action-btn back" onclick="backToLevelSelection()">← 돌아가기</button>
                </div>

                <!-- Multiple Choice 모드 -->
                <div id="mcMode">
                    <div class="question-container">
                        <div class="pos-label" id="mcPosLabel"></div>
                        <div class="question-text" id="koreanWord"></div>
                        <div class="choices" id="choices"></div>
                        <div class="feedback" id="mcFeedback"></div>
                        <div class="action-buttons">
                            <button class="action-btn next" id="mcNextBtn" onclick="nextMCQuestion()" disabled>다음</button>
                        </div>
                    </div>
                </div>

                <!-- Typing Practice 모드 -->
                <div id="tpMode">
                    <div class="question-container">
                        <div class="pos-label" id="posLabel"></div>
                        <div class="question-text" id="germanMeaning"></div>
                        <div class="typing-container">
                            <div class="typing-hint">정관사 + 단어를 입력하세요</div>
                            <input type="text" id="typingInput" class="typing-input" placeholder="예: der Hund">
                            <div class="feedback" id="tpFeedback"></div>
                            <div class="action-buttons">
                                <button class="action-btn next" id="tpSubmitBtn" onclick="submitTypingPractice()">제출</button>
                                <button class="action-btn next" id="tpNextBtn" onclick="nextTPQuestion()" style="display:none;">다음</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 결과 모달 -->
        <div class="result-modal" id="resultModal">
            <div class="result-content">
                <div class="result-title" id="resultTitle"></div>
                <div class="result-score" id="resultScore"></div>
                <div class="result-message" id="resultMessage"></div>
                <div class="result-buttons">
                    <button class="result-btn retry" onclick="retryMode()">재시도</button>
                    <button class="result-btn home" onclick="backToLevelSelection()">레벨 선택</button>
                </div>
            </div>
        </div>

        <!-- 통계 모달 -->
        <div class="stats-modal" id="statsModal">
            <div class="stats-content">
                <div class="stats-header">📊 학습 통계</div>
                
                <div class="stats-section">
                    <h3>전체 학습 현황</h3>
                    <div class="stat-item">
                        <span class="stat-label">총 학습한 단어 수</span>
                        <span class="stat-value" id="totalWords">0개</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">총 정답 수</span>
                        <span class="stat-value" id="totalCorrect">0개</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">전체 정답률</span>
                        <span class="stat-value" id="totalAccuracy">0%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">완료한 레벨</span>
                        <span class="stat-value" id="completedLevels">0개</span>
                    </div>
                </div>

                <div class="stats-section">
                    <h3>자주 틀리는 단어 TOP 10</h3>
                    <div class="mistake-list" id="mistakeList">
                        <p style="text-align: center; color: #999;">아직 데이터가 없습니다.</p>
                    </div>
                </div>

                <button class="close-stats-btn" onclick="closeStatsModal()">닫기</button>
            </div>
        </div>

        <!-- 통계 버튼 -->
        <button class="stats-button" onclick="showStatsModal()">📊</button>
    </div>

    <!-- JavaScript 파일들 -->
    <script src="data.js"></script>
    <script src="storage.js"></script>
    <script src="ui.js"></script>
    <script src="quiz.js"></script>
    <script src="app.js"></script>
</body>
</html>
